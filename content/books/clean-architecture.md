---
title: "클린 아키텍처"
date: 2021-08-23T00:12:09+03:00
draft: true
---

로버트 C. 마틴이 지은 `클린 아키텍처`라는 책을 읽고 기억에 남는 내용을 메모해 보았다. 번역서여서 그런지 책이 다소 어수선했던 감이 있었는데, 이 책은 훌륭한 아키텍처가 무엇인지, 아키텍처 설계와 관련해서 몇가지 아이디어를 발견할 수 있었다.



## 소프트웨어 아키텍처의 목표

소프트웨어 아키텍처의 목표는 필요한 시스템을 만들고 유지보수하는 데 투입되는 인력을 최소화 하는데 있다.(7p)



## 아키텍쳐 설계를 통한 시스템 만들기

`아키텍쳐에는 정답이 없다. (짐 왈도 Waldo 2006)`



## 아키텍쳐란? ##

과학 또는 건축의 기술, 특히 인간이 사용할 건물을 설계하고 건축하는 데 있어 사용하는 기술이나 방법으로 미적요소와 실용적 요소 모두를 취한다. 아키텍쳐는 공통의 문제를 해결하는 방법을 제시하고 있다. 즉, 특정 속성과 특성을 갖도록 보장한다.



## 훌륭한 시스템 ##

훌륭한 시스템이란 낮은 복잡성과 설계규칙이 존재하는 시스템을 말한다.



## 설계 규칙의 예 ##

예 : 하나의 가상 장치가 고장 나면 종류에 상관없이 다른 가상 장치로 대체할 수 있다.
예 : 같은 리소스를 놓고 경쟁하는 모든 프로세스는 반드시 동일한 일정 우선순위를 가져한다.



## 아키텍트 ##

다음 세 사람중에서 어떤 사람이 아키텍트 일까? 3번, 하늘을 보며 성당을 짓는 남자가 아키텍트이다.

1) 삽질을 하는 남자
2) 먹고 살려고 일하는 남자
3) 하늘을 보며 성당을 짓는 남자




## 무계획 도시 아키텍쳐 ##

무계획 도시란, 시간에 쫏겨 급히 짠 코드의 결과로 생성되는 시스템을 말하며 이러한 특징을 가진다.

- 이해불가능 : 복잡성으로 인해 수정불가능
- 결속력 부족
- 불필요한 결합 : 의존성이 강해짐, 기초가 되는 레이어나 중심허브가 없다. 동작 하나하나만을 수행하도록 만들어진 S/W
- 중복 : 공통 알고리즘이나 데이터 구조체가 중복.



## 계획도시 ##

- 일관성 : 구조와 맞아 떨어지는 코드. 
- 간결한 코드 : `명확한 아키텍처는 기능의 중복을 줄이는데 기여한다.`
- 계획 도시 아키텍처의 품질을 확실히 향상시킨 XP의 원칙중 하나는 YAGNI (필요하지 않는 것이면 아무것도하지 말라 Don't do anything if you aren't going to need)이다.
- 설계초기에 필요하게 될지 모르는 기능을 추가하는 일은 위험한 일이다.



## 아키텍트가 고려해야할 시스템 특징 ##

- 고객의 요구하는 기능을 갖춤
- 주어진 일정 충족
- 목적에 맞게 수행
- 유용성, 안정성, 신뢰성, 사용성
- 보안
- 비용

더 넓은 의미에서 `아키텍처`라는 용어는 항상 변하지 않는 깊은 구조를 뜻한다. - 스튜어트 브랜드



## 아키텍트의 역할 ##

- 건물을 신축할때 핵심 설계자이다. 광범위한 책임이 있다.
- 초기 스케치, 고객과 함께 논의, 수정하는 과정 반복.
- 품질 및 요구사항에 대한 우선순위를 정한다. 
  - 루비온 레일즈는 빠르게 만들 수 있지만, 빠른 속도로 진화되므로 유지보수에 어려울 수 있다.



## 프로젝트시 고려사항 ##

- 기능성
- 변화성 : 쉽게 수정하도록
- 성능
- 수용력 : 몇명의 사용자를 견딜 수 있는가
- 생태계 : 연동은 잘 되나
- 모듈성 : 모듈로 구성가능한가?
- 보안성




## 아키텍쳐 재사용 ##

- 이스탄불에 세워진 아야 소피아 Hagia sophia는 거대한 돔을 지지하기 위해 펜덴티브 구조를 사용했다.
- 1100년후 크로스토퍼 렌은 런던의 역사적 건축물인 세인트 폴 성당의 돔에 아야소피아 와 같은 설계를 사용했다.



## 아키텍쳐의 관심 ##

- 시스템 기능이 아니라, 시스템 구조나 방법에 관심이 있다. 
- 예를들면, 누가 호스팅을 할것인가? 윈도우인가 리눅스인가? 동시접속자는 얼마나 되어야하는가? 하는 것들이다.



## 이해 관계자들의 관심사항 ##

- 투자자  : 제한된 리소스와 일정 안에서 완료 될수 있는지
- 아키텍트, 개발자, 테스터 : 프로젝트 초기에는 구축, 후기에는 유지보수와 업그레이드
- 프로젝트 매니저 - 팀을 구성하고 일정을 계획한다.
- 마케터 - 해당 시스템이 경쟁 시스템보다 우수하다는 것을 보이고 싶어한다.
- 기술지원팀 - 헬프 데스크로 걸려오는 전화의 수와 그 일의 복잡성에 관심



## 좋은 아키텍처란

책에서 아키텍처와 관련한 많은 얘기를 다뤘다. 아마 많이 들어 보았을 말 이지만, 좋은 아키텍처라는 것은 결국 `유지보수`가 용이하면서 `확장성` 뛰어난 아키텍처이다. 프레임워크나 도구에 구애 받지 않고 유스케이스를 중심에 둔다.(209p) 유스케이스는 사용자의 관점에서 시스템과의 상호 작용에 초점에 맞춘 설계도이다. 이러한 유스케이스가 새로 합류한 팀원에게 공유 될 때도 그 내용이 유스 케이스를 보고 이해할 수 있는 형태여야한다. 이 책에서 말한 클린 아키텍처는 프레임워크나 DB에 의존하지 않으며, 테스트가 용이한 아키 텍처이다. 이러한 아키텍처는 [견고한 코드 설계 원칙들](/guide/code-design/)이 기본이 되리라 생각한다.
